<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple 3D AR Webpage Addon Template</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
</head>
<body>

    <h1>Simple 3D AR Model Viewer Template</h1>
    <p>This page demonstrates a single, embeddable 3D AR model viewer. This is the kind of code snippet you can provide to clients for their individual product pages.</p>
    <p>Replace the `src` and `poster` attributes with your client's specific GLB file and preview image URLs.</p>

    <p id="model-dimensions" class="dimensions-text">Dimensions: Loading...</p>

    <div class="product-3d-viewer-container">
        <model-viewer
            id="ar-model-viewer"
            src="models/HiveShelf90cm.glb"  
            poster="poster.png"
            alt="3D model of a Hive Shelf 90cm"
            ar
            ar-modes="webxr scene-viewer quick-look"
            camera-controls
            shadow-intensity="1"
            exposure="1"
            environment-image="neutral"
            bounds="tight">
        </model-viewer>
    </div>
    <div class="controls-below-viewer">
        <button id="reset-view-button" class="action-button">Reset 3D View</button>

        <button id="ar-qr-button" class="action-button">AR QR</button>
    </div>

    <div id="qr-modal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="close-qr-modal">&times;</span>
            <div class="qr-code-wrapper">
                <a id="qr-code-link" href="#" target="_blank" title="Scan to view in AR">
                    <img id="qr-code-image" src="" alt="QR Code">
                </a>
            </div>
            <p>Scan this QR code with your phone to open the 3D model directly in Augmented Reality.</p>
        </div>
    </div>

    <script src="script.js"></script>

</body>
</html>